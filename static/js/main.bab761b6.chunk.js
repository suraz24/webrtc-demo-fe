(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t){},105:function(e,t){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),o=n(27),a=n.n(o),i=(n(64),n(23)),r=n(3),l=n(5);const d={SET_IS_ROOM_HOST:"SET_IS_ROOM_HOST",SET_CONNECT_ONLY_WITH_AUDIO:"SET_CONNECT_ONLY_WITH_AUDIO",SET_IDENTITY:"SET_IDENTITY",SET_ROOM_ID:"SET_ROOM_ID",SET_SHOW_OVERLAY:"SET_SHOW_OVERLAY",SET_PARTICIPANTS:"SET_PARTICIPANTS",SET_MESSAGES:"SET_MESSAGES"},j=e=>({type:d.SET_IS_ROOM_HOST,isRoomHost:e}),m=e=>({type:d.SET_ROOM_ID,roomId:e});var u=d,A=n(0);var O=e=>{let{isRoomHost:t}=e;const n=t?"Host meeting":"Join meeting";return Object(A.jsx)("p",{className:"join_room_title",children:n})};const b=e=>{let{placeholder:t,value:n,changeHandler:s}=e;return Object(A.jsx)("input",{value:n,onChange:s,className:"join_room_input",placeholder:t})};var h=e=>{const{roomIdValue:t,setRoomIdValue:n,nameValue:s,setNameValue:c,isRoomHost:o}=e;return Object(A.jsxs)("div",{className:"join_room_inputs_container",children:[!o&&Object(A.jsx)(b,{placeholder:"Enter meeting ID",value:t,changeHandler:e=>{n(e.target.value)}}),Object(A.jsx)(b,{placeholder:"Enter your Name",value:s,changeHandler:e=>{c(e.target.value)}})]})};var g=e=>{let{connectOnlyWithAudio:t,setConnectOnlyWithAudio:n}=e;return Object(A.jsxs)("div",{className:"checkbox_container",children:[Object(A.jsx)("div",{className:"checkbox_connection",onClick:()=>{n(!t)},children:t&&Object(A.jsx)("img",{className:"checkbox_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABiSURBVHgB7ZHBCQAgCEUdpREaoY0boREaoREawQw8hNShFLz04EOHz8MU4OMKIgZKpkTQwrJG6fMNGoRMN52fjMvltI/ryWaJy01Kn7+5k6p3JqTJ5ACLFE2uuUiriezjywAgdcf6AfL4kwAAAABJRU5ErkJggg=="})}),Object(A.jsx)("p",{className:"checkbox_container_paragraph",children:"Only audio"})]})};var p=e=>{let{errorMessage:t}=e;return Object(A.jsx)("div",{className:"error_message_container",children:t&&Object(A.jsx)("p",{className:"error_message_paragraph",children:t})})};const N=e=>{let{buttonText:t,cancelButton:n=!1,onClickHandler:s}=e;const c=n?"join_room_cancel_button":"join_room_success_button";return Object(A.jsx)("button",{onClick:s,className:c,children:t})};var x=e=>{let{handleJoinRoom:t,isRoomHost:n}=e;const s=n?"Host":"Join",c=Object(r.f)();return Object(A.jsxs)("div",{className:"join_room_buttons_container",children:[Object(A.jsx)(N,{buttonText:s,onClickHandler:t}),Object(A.jsx)(N,{buttonText:"Cancel",cancelButton:!0,onClickHandler:()=>{c.push("/")}})]})},v=n(35),T=n.n(v);const S="https://web-rtc-demo-0355188c88b6.herokuapp.com/api";var E=Object(l.b)((e=>({...e})),(e=>({setConnectOnlyWithAudio:t=>e((e=>({type:d.SET_CONNECT_ONLY_WITH_AUDIO,onlyWithAudio:e}))(t)),setIdentityAction:t=>e((e=>({type:d.SET_IDENTITY,identity:e}))(t)),setRoomIdAction:t=>e(m(t))})))((e=>{const{isRoomHost:t,setConnectOnlyWithAudio:n,connectOnlyWithAudio:c,setIdentityAction:o,setRoomIdAction:a}=e,[i,l]=Object(s.useState)(""),[d,j]=Object(s.useState)(""),[m,u]=Object(s.useState)(null),O=Object(r.f)(),b=async()=>{const e=await(async e=>(await T.a.get("".concat(S,"/room-exists/").concat(e))).data)(i),{roomExists:t,full:n}=e;t?n?u("Meeting is full. Please try again later."):(a(i),O.push("/room")):u("Meeting not found. Check your meeting id.")},N=()=>{O.push("/room")};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(h,{roomIdValue:i,setRoomIdValue:l,nameValue:d,setNameValue:j,isRoomHost:t}),Object(A.jsx)(g,{setConnectOnlyWithAudio:n,connectOnlyWithAudio:c}),Object(A.jsx)(p,{errorMessage:m}),Object(A.jsx)(x,{handleJoinRoom:async()=>{o(d),t?N():await b()},isRoomHost:t})]})}));n(92);var I=Object(l.b)((e=>({...e})),(e=>({setIsRoomHostAction:t=>e(j(t))})))((e=>{const{setIsRoomHostAction:t,isRoomHost:n}=e,c=Object(r.g)().search;return Object(s.useEffect)((()=>{new URLSearchParams(c).get("host")&&t(!0)}),[]),Object(A.jsx)("div",{className:"join_room_page_container",children:Object(A.jsxs)("div",{className:"join_room_page_panel",children:[Object(A.jsx)(O,{isRoomHost:n}),Object(A.jsx)(E,{})]})})}));var C=e=>{let{createRoomButton:t=!1,buttonText:n,onClickHandler:s}=e;const c=t?"create_room_button":"join_room_button";return Object(A.jsx)("button",{className:c,onClick:s,children:n})};var y=()=>{let e=Object(r.f)();return Object(A.jsxs)("div",{className:"connecting_buttons_container",children:[Object(A.jsx)(C,{buttonText:"Join a meeting",onClickHandler:()=>{e.push("/join-room")}}),Object(A.jsx)(C,{createRoomButton:!0,buttonText:"Host a meeting",onClickHandler:()=>{e.push("/join-room?host=true")}})]})};n(93);var H=Object(l.b)(null,(e=>({setIsRoomHostAction:t=>e(j(t))})))((e=>{let{setIsRoomHostAction:t}=e;return Object(s.useEffect)((()=>{t(!1)}),[]),Object(A.jsx)("div",{className:"introduction_page_container",children:Object(A.jsxs)("div",{className:"introduction_page_panel",children:[Object(A.jsx)("img",{src:"data:image/png;base64,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",className:"introduction_page_image"}),Object(A.jsx)(y,{})]})})}));var R=()=>Object(A.jsx)("div",{className:"chat_label_container",children:Object(A.jsx)("p",{className:"chat_label_paragraph",children:"CHAT"})});const w=e=>{let{author:t,content:n,sameAuthor:s,messageCreatedByMe:c}=e;const o=c?"message_align_right":"message_align_left",a=c?"You":t,i=c?"message_right_styles":"message_left_styles";return Object(A.jsxs)("div",{className:"message_container ".concat(o),children:[!s&&Object(A.jsx)("p",{className:"message_title",children:a}),Object(A.jsx)("p",{className:"message_content ".concat(i),children:n})]})};var B=Object(l.b)((e=>({...e})))((e=>{let{messages:t}=e;return Object(A.jsx)("div",{className:"messages_container",children:t.map(((e,n)=>{const s=n>0&&e.identity===t[n-1].identity;return Object(A.jsx)(w,{author:e.identity,content:e.content,sameAuthor:s,messageCreatedByMe:e.messageCreatedByMe},"".concat(e.content).concat(n))}))})})),U=n.p+"static/media/sendMessageButton.9add4f6d.svg",D=n(56),k=n.n(D),G=n(57);const Y={identity:"",isRoomHost:!1,connectOnlyWithAudio:!1,roomId:null,showOverlay:!0,participants:[],messages:[]};var f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_IS_ROOM_HOST:return{...e,isRoomHost:t.isRoomHost};case u.SET_CONNECT_ONLY_WITH_AUDIO:return{...e,connectOnlyWithAudio:t.onlyWithAudio};case u.SET_ROOM_ID:return{...e,roomId:t.roomId};case u.SET_IDENTITY:return{...e,identity:t.identity};case u.SET_SHOW_OVERLAY:return{...e,showOverlay:t.showOverlay};case u.SET_PARTICIPANTS:return{...e,participants:t.participants};case u.SET_MESSAGES:return{...e,messages:t.messages};default:return e}};const Q=Object(G.a)({reducer:f});var J=Q,M=n(59);let _=null;const P=()=>{_=Object(M.a)("https://web-rtc-demo-0355188c88b6.herokuapp.com/"),_.on("connect",(()=>{console.log("socket connected"),console.log(_.id)})),_.on("room-id",(e=>{J.dispatch(m(e))})),_.on("room-update",(e=>{const{connectedUsers:t}=e;J.dispatch({type:d.SET_PARTICIPANTS,participants:t})})),_.on("conn-prepare",(e=>{const{connectedUsersSocketId:t}=e;$(t,!1),_.emit("conn-init",{connUserSocketId:t})})),_.on("conn-signal",(e=>{ee(e)})),_.on("conn-init",(e=>{const{connUserSocketId:t}=e;$(t,!0)})),_.on("user-disconnected",(e=>{const{socketId:t}=e;te(t)}))};let V=null;const W=async()=>{var e;const t=await(async()=>(await T.a.get("".concat(S,"/get-turn-credentials"))).data)();return null!==(e=t.token)&&void 0!==e&&e.iceServers&&(V=t.token.iceServers),V},L={audio:!0,video:{width:"480",height:"360"}},K={audio:!0,video:!1};let X;const z=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;await W();const c=s?K:L;navigator.mediaDevices.getUserMedia(c).then((c=>{X=c,ne(X),J.dispatch({type:d.SET_SHOW_OVERLAY,showOverlay:!1}),e?((e,t)=>{const n={identity:e,onlyAudio:t};_.emit("create-new-room",n)})(t,s):((e,t,n)=>{const s={roomId:e,identity:t,onlyAudio:n};_.emit("join-room",s)})(n,t,s)})).catch((e=>{console.log("Error ocured when trying to access local stream"),console.log(e)}))};let Z={},q=[];const F=()=>{const e=V;return console.log("turn server",e),e?{iceServers:[{urls:"stun:stun.l.google.com:19302"},...e]}:(console.warn("using only STUN servers"),{iceServers:[{urls:"stun:stun.l.google.com:19302"}]})},$=(e,t)=>{const n=F();Z[e]=new k.a({initiator:t,config:n,stream:X,channelName:"messenger"}),Z[e].on("signal",(t=>{(e=>{_.emit("conn-signal",e)})({signal:t,connUserSocketId:e})})),Z[e].on("stream",(t=>{se(t,e),q=[...q,t]})),Z[e].on("data",(e=>{const t=JSON.parse(e);ie(t)}))},ee=e=>{Z[e.connUserSocketId].signal(e.signal)},te=e=>{console.log("removing socket id:",e);const t=document.getElementById(e),n=document.getElementById("".concat(e,"-video"));if(t&&n){n.srcObject.getTracks().forEach((e=>e.stop())),n.srcObject=null,t.removeChild(n),t.parentNode.removeChild(t),Z[e]&&Z[e].destroy(),delete Z[e]}},ne=e=>{const t=document.getElementById("videos_portal");t.classList.add("videos_portal_styles");const n=document.createElement("div");n.classList.add("video_track_container");const s=document.createElement("video");s.autoplay=!0,s.muted=!0,s.srcObject=e,s.onloadedmetadata=()=>{s.play()},n.appendChild(s),J.getState().connectOnlyWithAudio&&n.appendChild(ce()),t.appendChild(n)},se=(e,t)=>{const n=document.getElementById("videos_portal"),s=document.createElement("div");console.log(n),s.id=t,s.classList.add("video_track_container");const c=document.createElement("video");c.autoplay=!0,c.srcObject=e,c.id="".concat(t,"-video"),c.onloadedmetadata=()=>{c.play()},c.addEventListener("click",(()=>{c.classList.contains("full_screen")?c.classList.remove("full_screen"):c.classList.add("full_screen")})),s.appendChild(c);const o=J.getState().participants.find((e=>e.socketId===t));null!==o&&void 0!==o&&o.onlyAudio?s.appendChild(ce(o.identity)):s.style.position="static",n.appendChild(s)},ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.createElement("div");t.classList.add("label_only_audio_container");const n=document.createElement("p");return n.classList.add("label_only_audio_text"),n.innerHTML="Only audio ".concat(e),t.appendChild(n),t},oe=function(e){ae(e?X:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)},ae=e=>{for(let t in Z)for(let n in Z[t].streams[0].getTracks())for(let s in e.getTracks())if(Z[t].streams[0].getTracks()[n].kind===e.getTracks()[s].kind){Z[t].replaceTrack(Z[t].streams[0].getTracks()[n],e.getTracks()[s],Z[t].streams[0]);break}},ie=e=>{const t=J.getState().messages;J.dispatch((e=>({type:d.SET_MESSAGES,messages:e}))([...t,e]))};var re=()=>{const[e,t]=Object(s.useState)(""),n=()=>{e.length>0&&((e=>{const t=J.getState().identity;ie({content:e,identity:t,messageCreatedByMe:!0});const n={content:e,identity:t},s=JSON.stringify(n);for(let c in Z)Z[c].send(s)})(e),t(""))};return Object(A.jsxs)("div",{className:"new_message_container",children:[Object(A.jsx)("input",{className:"new_message_input",value:e,onChange:e=>{t(e.target.value)},placeholder:"Type your message ...",type:"text",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),n())}}),Object(A.jsx)("img",{className:"new_message_button",src:U,onClick:n})]})};var le=()=>Object(A.jsxs)("div",{className:"chat_section_container",children:[Object(A.jsx)(R,{}),Object(A.jsx)(B,{}),Object(A.jsx)(re,{})]});var de=()=>Object(A.jsx)("div",{className:"participants_label_container",children:Object(A.jsx)("p",{className:"participants_label_paragraph",children:"PARTICIPANTS"})});const je=e=>{const{identity:t,lastItem:n,participant:s}=e;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("p",{className:"participants_paragraph",children:t}),!n&&Object(A.jsx)("span",{className:"participants_separator_line"})]})};var me=Object(l.b)((e=>({...e})))((e=>{let{participants:t}=e;return Object(A.jsx)("div",{className:"participants_container",children:t.map(((e,n)=>Object(A.jsx)(je,{lastItem:t.length===n+1,participant:e,identity:e.identity},e.identity)))})}));var ue=()=>Object(A.jsxs)("div",{className:"participants_section_container",children:[Object(A.jsx)(de,{}),Object(A.jsx)(me,{})]}),Ae=n.p+"static/media/camera.b50348a3.svg",Oe=n.p+"static/media/cameraOff.a61d4a02.svg";var be=()=>{const[e,t]=Object(s.useState)(!1);return Object(A.jsx)("div",{className:"video_button_container",children:Object(A.jsx)("img",{src:e?Oe:Ae,className:"video_button_image",onClick:()=>{var n;n=e,X.getVideoTracks()[0].enabled=n,t(!e)}})})};var he=()=>Object(A.jsx)("div",{className:"video_button_container",children:Object(A.jsx)("button",{className:"video_button_end",onClick:()=>{const e=window.location.origin;window.location.href=e},children:"Leave Room"})}),ge=n.p+"static/media/mic.c9c9788e.svg",pe=n.p+"static/media/micOff.3a72f682.svg";var Ne=()=>{const[e,t]=Object(s.useState)(!1);return Object(A.jsx)("div",{className:"video_button_container",children:Object(A.jsx)("img",{src:e?pe:ge,onClick:()=>{var n;n=e,X.getAudioTracks()[0].enabled=n,t(!e)},className:"video_button_image"})})},xe=n.p+"static/media/switchToScreenSharing.900d9338.svg";var ve=e=>{let{stream:t}=e;const n=Object(s.useRef)();return Object(s.useEffect)((()=>{const e=n.current;e.srcObject=t,e.onloadedmetadata=()=>{e.play()}}),[t]),Object(A.jsx)("div",{className:"local_screen_share_preview",children:Object(A.jsx)("video",{muted:!0,autoPlay:!0,ref:n})})};var Te=()=>{const[e,t]=Object(s.useState)(!1),[n,c]=Object(s.useState)(null),o={audio:!1,video:!0};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"video_button_container",children:Object(A.jsx)("img",{src:xe,onClick:async()=>{if(e)oe(e),t(!1),n.getTracks().forEach((e=>e.stop())),c(null);else{let n=null;try{n=await navigator.mediaDevices.getDisplayMedia(o)}catch(s){console.log("Error occured when sharing screen")}n&&(c(n),oe(e,n),t(!0))}},className:"video_button_image"})}),e&&Object(A.jsx)(ve,{stream:n})]})};var Se=Object(l.b)((e=>({...e})))((e=>{const{connectOnlyWithAudio:t}=e;return Object(A.jsxs)("div",{className:"video_buttons_container",children:[Object(A.jsx)(Ne,{}),!t&&Object(A.jsx)(be,{}),Object(A.jsx)(he,{}),!t&&Object(A.jsx)(Te,{})]})}));var Ee=()=>Object(A.jsx)("div",{className:"video_section_container",children:Object(A.jsx)(Se,{})});var Ie=e=>{let{roomId:t}=e;return Object(A.jsx)("div",{className:"room_label",children:Object(A.jsxs)("p",{className:"room_label_paragraph",children:["ID: ",t," "]})})};var Ce=()=>Object(A.jsx)("div",{className:"overlay_container",children:Object(A.jsx)("div",{className:"loader"})});n(113);var ye=Object(l.b)((e=>({...e})))((e=>{let{roomId:t,identity:n,isRoomHost:c,showOverlay:o,connectOnlyWithAudio:a}=e;return Object(s.useEffect)((()=>{if(c||t)z(c,n,t,a);else{const e=window.location.origin;window.location.href=e}}),[]),Object(A.jsxs)("div",{className:"room_container",children:[Object(A.jsx)(ue,{}),Object(A.jsx)(Ee,{}),Object(A.jsx)(le,{}),Object(A.jsx)(Ie,{roomId:t}),o&&Object(A.jsx)(Ce,{})]})}));n(114);var He=function(){return Object(s.useEffect)((()=>{P()}),[]),Object(A.jsx)(i.a,{children:Object(A.jsxs)(r.c,{children:[Object(A.jsx)(r.a,{path:"/join-room",children:Object(A.jsx)(I,{})}),Object(A.jsx)(r.a,{path:"/room",children:Object(A.jsx)(ye,{})}),Object(A.jsx)(r.a,{path:"/",children:Object(A.jsx)(H,{})})]})})};a.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(l.a,{store:Q,children:Object(A.jsx)(He,{})})}),document.getElementById("root"))},64:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.bab761b6.chunk.js.map